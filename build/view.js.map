{"version":3,"file":"view.js","mappings":";;;;;AAAA,MAAMA,sBAAsB,GAAGA,CAAA,KAAM;EACnC,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAAa,CAAC,uBAAuB,CAAC;EAChE,IAAIC,cAAc,GAAGH,QAAQ,CAACI,SAAS;EACvC,IAAIC,aAAa,GAAGL,QAAQ,CAACM,WAAW;EAExC,MAAMC,MAAM,GAAGN,QAAQ,CAACC,aAAa,CAAC,+BAA+B,CAAC;EAEtE,MAAMM,WAAW,GAAGP,QAAQ,CAACQ,aAAa,CAAC,KAAK,CAAC;EACjDD,WAAW,CAACE,SAAS,CAACC,GAAG,CAAC,kCAAkC,CAAC;EAC7DH,WAAW,CAACI,KAAK,CAACC,MAAM,GAAI,GAAEb,QAAQ,CAACc,YAAa,IAAG;EACvDN,WAAW,CAACI,KAAK,CAACG,QAAQ,GAAG,UAAU;EAEvCC,iBAAiB,EAAE;EAEnB,MAAMC,UAAU,GAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI;EAEvCpB,QAAQ,CAACqB,gBAAgB,CAAC,8BAA8B,CAAC,CAACC,OAAO,CAAEC,MAAM,IAAK;IAC5EN,UAAU,CAACO,OAAO,CAACD,MAAM,CAACE,YAAY,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAGF,MAAM,CAACb,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC,GAAG,IAAI;IAC5FM,UAAU,CAACO,OAAO,CAACD,MAAM,CAACE,YAAY,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAGF,MAAM,CAACG,kBAAkB,CAAChB,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC,GAAG,IAAI;EACjH,CAAC,CAAC;EAEFO,MAAM,CAACS,gBAAgB,CAAC,QAAQ,EAAE,MAAM;IACtCX,iBAAiB,EAAE;EACrB,CAAC,CAAC;EACFE,MAAM,CAACS,gBAAgB,CAAC,QAAQ,EAAE,MAAM;IACtCxB,cAAc,GAAGH,QAAQ,CAACI,SAAS;IACnCC,aAAa,GAAGL,QAAQ,CAACM,WAAW;IACpCU,iBAAiB,EAAE;EACrB,CAAC,CAAC;EAEF,SAASA,iBAAiBA,CAAA,EAAG;IAC3B,MAAMY,cAAc,GAAGV,MAAM,CAACW,OAAO;IACrC,IAAID,cAAc,IAAIzB,cAAc,GAAGI,MAAM,CAACO,YAAY,EAAE;MAC1Dd,QAAQ,CAACU,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;MAC/BX,QAAQ,CAAC8B,UAAU,CAACC,YAAY,CAACvB,WAAW,EAAER,QAAQ,CAAC;MACvDA,QAAQ,CAACY,KAAK,CAACoB,GAAG,GAAI,GAAEzB,MAAM,CAACO,YAAa,IAAG;MAC/Cd,QAAQ,CAACY,KAAK,CAACqB,KAAK,GAAI,oDAAmD;IAC7E,CAAC,MACI;MACHjC,QAAQ,CAACU,SAAS,CAACwB,MAAM,CAAC,OAAO,CAAC;MAClClC,QAAQ,CAACY,KAAK,CAACqB,KAAK,GAAI,MAAK;MAC7BzB,WAAW,CAAC0B,MAAM,EAAE;IACtB;EACF;AACF,CAAC;AAEDjC,QAAQ,CAAC0B,gBAAgB,CAAC,kBAAkB,EAAE,YAAW;EACvD5B,sBAAsB,EAAE;AAC1B,CAAC,CAAC,C","sources":["webpack://woodoo-technology-switcher/./src/view.js"],"sourcesContent":["const initTechnologySwitcher = () => {\n  const switcher = document.querySelector('.woodoo-tech-switcher');\n  let switcherOffset = switcher.offsetTop;\n  let switcherWidth = switcher.offsetWidth;\n\n  const navbar = document.querySelector('header.wp-block-template-part');\n  \n  const placeHolder = document.createElement('div');\n  placeHolder.classList.add('woodoo-tech-switcher-placeholder');\n  placeHolder.style.height = `${switcher.offsetHeight}px`;\n  placeHolder.style.position = 'relative';\n\n  setScrollPosition();\n  \n  const currentUrl = window.location.href;\n  \n  switcher.querySelectorAll('.woodoo-tech-switcher-button').forEach((button) => {\n    currentUrl.indexOf(button.getAttribute('href')) > -1 ? button.classList.add('active') : null;\n    currentUrl.indexOf(button.getAttribute('href')) > -1 ? button.nextElementSibling.classList.add('active') : null;\n  })\n\n  window.addEventListener('scroll', () => {\n    setScrollPosition();\n  })\n  window.addEventListener('resize', () => {\n    switcherOffset = switcher.offsetTop;\n    switcherWidth = switcher.offsetWidth;\n    setScrollPosition();\n  })\n\n  function setScrollPosition() {\n    const scrollPosition = window.scrollY;\n    if (scrollPosition >= switcherOffset - navbar.offsetHeight) {\n      switcher.classList.add('fixed');\n      switcher.parentNode.insertBefore(placeHolder, switcher);\n      switcher.style.top = `${navbar.offsetHeight}px`;\n      switcher.style.width = `calc(100% - 2 * var(--wp--preset--spacing--outer))`;\n    }\n    else {\n      switcher.classList.remove('fixed');\n      switcher.style.width = `100%`;\n      placeHolder.remove();\n    }\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  initTechnologySwitcher();\n})"],"names":["initTechnologySwitcher","switcher","document","querySelector","switcherOffset","offsetTop","switcherWidth","offsetWidth","navbar","placeHolder","createElement","classList","add","style","height","offsetHeight","position","setScrollPosition","currentUrl","window","location","href","querySelectorAll","forEach","button","indexOf","getAttribute","nextElementSibling","addEventListener","scrollPosition","scrollY","parentNode","insertBefore","top","width","remove"],"sourceRoot":""}